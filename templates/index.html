{% extends "base.html" %}
{% load i18n %}
{% load static %}

<!-- Extra CSS -->
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/index.css' %}" />
<link rel="stylesheet" href="{% static 'css/contact.css' %}" />
{% endblock %}

{% block title %}{% trans "Homepage" %}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <img src="{% static 'images/laptop.png' %}" alt="{% trans 'Hero Image' %}" class="img-fluid" id="hero-image">
    <div class="hero-content text-center text-white">
        <h1 class="mb-2">{% trans "Lilla Kavecsanszki" %}</h1>
        <p class="hero-text">{% trans "Full Stack Web Developer" %}</p><span class="typewriter nocaret"></span>
    </div>
</section>

<!-- Introduction Section -->
<section id="building" class="introduction py-5">
    <div class="container">
        <div class="row align-items-center">
            <!-- Right side: Title and Text -->
            <div class="col-lg-6 order-1 order-lg-2"> <!-- Text column -->
                <h1 class="title">Lilla KAVECSANSZKI</h1>
                <h2 class="mb-4">{% trans "Discover Our Unparalleled Experiences" %}</h2>
                <p>
                    {% blocktrans %}
                        Just a few steps away from all the essential amenities and services, this exclusive residence offers a private and relaxing environment, guaranteeing you maximum privacy. Each apartment has been designed to adapt to your needs, conceived for your daily relaxation. Choose your new home and customize it according to your style, without sacrificing the tranquility and comfort of living in a convenient and central location.
                    {% endblocktrans %}
                </p>
                <p>{% trans "Bright environments with top-of-the-range Finstral brand fixtures, airy and cared for in every detail with the best Made in Italy coverings and high-quality materials." %}</p>
            </div>

            <!-- Left side: Photo of Residenza126 -->
            <div class="col-lg-6 order-2 order-lg-1"> <!-- Image column -->
                <img src="{% static 'images/courtyard.jpeg' %}" alt="Residenza126 Building" class="img-fluid img-fluid-residenza page-turn-effect" />
            </div>
        </div>
    </div>
</section>

<!-- Location section -->
<section id="location" class="location py-5">
    <div class="container">
        <div class="row">
            <!-- Left side: Text about Oristano -->
            <div class="col-lg-6">
                <h2 class="mb-4 title">{% trans "Oristano" %}</h2>
                <p>{% trans "Oristano is one of the safest cities in Italy, and certainly one of the safest in Sardinia. Known for its rich history, stunning architecture, and beautiful surroundings, it offers a tranquil yet vibrant lifestyle." %}</p>
                <p>{% trans "Located on the western coast of Sardinia, Oristano combines cultural heritage with modern living, making it the perfect place to experience the best of both worlds." %}</p>
            </div>

            <!-- Right side: 3 photos + Google map in a grid -->
            <div class="col-lg-6">
                <div class="row">
                    <!-- Photo 1 -->
                    <div class="col-md-6 mb-4">
                        <div class="hover-zoom">
                            <img src="{% static 'images/carnival.jpeg' %}" alt="Oristano Carnival" class="img-fluid img-container">
                        </div>
                    </div>
                    <!-- Photo 2 -->
                    <div class="col-md-6 mb-4">
                        <div class="hover-zoom">
                            <img src="{% static 'images/oristano.jpeg' %}" alt="Oristano" class="img-fluid img-container flip-horizontal">
                        </div>
                    </div>
                    <!-- Photo 3 -->
                    <div class="col-md-6 mb-4">
                        <div class="hover-zoom">
                            <img src="{% static 'images/sea.jpeg' %}" alt="Oristano Sea" class="img-fluid img-container">
                        </div>
                    </div>
                    <!-- Google Map -->
                    <div class="col-md-6 mb-4">
                        <div class="hover-zoom">
                            <div class="map-container">
                                <iframe
                                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12297.124960321248!2d8.58252955367728!3d39.90184306563145!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12c4bff05aaff4d7%3A0x8c017bf383d54b38!2sVia%20Cagliari%2C%2047%2C%2009170%20Oristano%20OR%2C%20Italy!5e0!3m2!1sen!2sus!4v1696570623345!5m2!1sen!2sus"
                                    style="border:0;" allowfullscreen="" loading="lazy">
                                </iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Us and Brochure Download Section -->
<section id="contact" class="contact-us py-5" style="background-color: #e4e4e4;">
    <div class="container">
        <div class="row">
            <!-- Brochure Download (Left side) -->
            <div class="col-lg-6 d-flex flex-column justify-content-center align-items-center mb-4 mb-lg-0">
                <div class="help-button rounded-0" style="width: 120px; height: 120px;">
                    <a href="{% static 'files/brochure.pdf' %}" class="d-flex h-100" download>
                        <img src="{% static 'images/brochure.png' %}" alt="Download Brochure" class="mb-2 img-fluid m-auto brochure-icon">
                    </a>
                </div>
                <a href="{% static 'files/brochure.pdf' %}" class="mt-2 text-center" download style="color: #182d5f; text-decoration: none;">
                    <p class="mt-2">{% trans "Download Brochure" %}</p>
                </a>
            </div>

            <!-- Contact Us Button (Right side) -->
            <div class="col-lg-6 d-flex flex-column justify-content-center align-items-center">
                <div class="help-button rounded-0" style="width: 150px; height: 150px;">
                    <a class="help-link d-flex h-100" href="{% url 'home' %}#contact-us">
                        <img src="{% static 'images/contact.png' %}" alt="Contact page" class="mb-1 img-fluid m-auto contact-icon">
                    </a>
                </div>
                <a href="{% url 'home' %}#contact-us" class="mt-2 text-center" style="color: #182d5f; text-decoration: none;">
                    <p>{% trans "Reach Out" %}</p>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Apartment Types Section -->
<section id="apartment-types" class="apartment-types py-5">
    <div class="container">
        
    </div>
</section>

<!-- Property Listings Section -->
<section class="property-listings py-5" style="background-color: #e4e4e4;">
    <h2 class="text-center title mb-4">{% trans "Property Listings" %}</h2>
    <div class="carousel">
        <div class="frames">
            <div class="frame_items">
                {% for property in property_list %}
                <div class="property">
                    <!-- Media Container -->
                    <div class="property-media">
                        <!-- Check if a main video exists -->
                        {% if property.main_video %}
                            <a href="{% url 'property_detail' property.id %}">
                                <video class="img-fluid" autoplay muted playsinline loop>
                                    <source src="{{ property.main_video.url }}" type="video/mp4">
                                    {% trans "Your browser does not support the video tag." %}
                                </video>
                            </a>
                        <!-- Check if a main image exists -->
                        {% elif property.main_image %}
                            <a href="{% url 'property_detail' property.id %}">
                                <img src="{{ property.main_image.url }}" alt="{{ property.name }}" class="img-fluid">
                            </a>
                        <!-- Fallback image or placeholder -->
                        {% else %}
                            <a href="{% url 'property_detail' property.id %}">
                                <img src="{% static 'images/noimage.png' %}" alt="{% trans 'Placeholder' %}" class="img-fluid">
                            </a>
                        {% endif %}
                    </div>
                    
                    <!-- Property Details -->
                    <div class="property-details p-3">
                        <h3 class="text-center">{{ property.name }}</h3>
                    </div>
                </div>
                
                {% empty %}
                <!-- Optional: Display a message if no properties are available -->
                <div>
                    <p class="text-center">{% trans "No properties available at the moment." %}</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Button to navigate to all properties page -->
    <div class="text-center mt-4">
        <a href="{% url 'home' %}" class="glass-button">{% trans "View All Apartments" %}</a>
    </div>
</section>

<!-- About Section -->
<section id="about" class="company-story py-5">
    <div class="container">
        
    </div>
</section>

<!-- Contact Section -->
<section id="contact-us" class="company-story py-5">
    <div class="container">
        <section class="contact-container mirror-silver-background">
            <h1 class="contact-h1">{% trans "Do you have a project in mind?" %}</h1>
    
        <!-- Display form errors -->
        {% if form.errors %}
            <div class="alert alert-danger">
                <strong>{% trans "Please correct the errors below:" %}</strong>
                <ul>
                    {% for field in form %}
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    
        <!-- Display success or error messages -->
        {% if messages %}
            <div class="alert alert-info">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    
        <!-- Contact Form -->
        <div class="contact-form">
            <form method="post">
                {% csrf_token %}
                
                <!-- Name Field -->
                <div class="form-group">
                    <label for="{{ form.name.id_for_label }}">{% trans "Name" %}</label>
                    {{ form.name }}
                    <span class="text-danger">
                        {% for error in form.name.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Surname Field -->
                <div class="form-group">
                    <label for="{{ form.surname.id_for_label }}">{% trans "Surname" %}</label>
                    {{ form.surname }}
                    <span class="text-danger">
                        {% for error in form.surname.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Email Field -->
                <div class="form-group">
                    <label for="{{ form.email.id_for_label }}">{% trans "Email" %}</label>
                    {{ form.email }}
                    <span class="text-danger">
                        {% for error in form.email.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Phone Number Field -->
                <div class="form-group">
                    <label for="{{ form.phone_number.id_for_label }}">{% trans "Phone Number" %}</label>
                    {{ form.phone_number }}
                    <span class="text-danger">
                        {% for error in form.phone_number.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Subject Field -->
                <div class="form-group">
                    <label for="{{ form.subject.id_for_label }}">{% trans "Subject" %}</label>
                    {{ form.subject }}
                    <span class="text-danger">
                        {% for error in form.subject.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Message Field -->
                <div class="form-group">
                    <label for="{{ form.message.id_for_label }}">{% trans "Message" %}</label>
                    {{ form.message }}
                    <span class="text-danger">
                        {% for error in form.message.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </span>
                </div>
            
                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary">{% trans "Send" %}</button>
            </form>
            
        </div>
    </section>

{% endblock %}